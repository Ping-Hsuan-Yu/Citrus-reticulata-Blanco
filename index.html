<!DOCTYPE html>
<html lang="zh-Hant" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砂糖橘訂購</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@200;300;400;500;600;700;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Noto Serif TC', sans-serif;
        }

        body {
            width: 100%;
            height: 100dvh;
        }

        .section {
            width: 300px;
        }

        /* #five-num::-webkit-outer-spin-button,
        #five-num::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        } */

        .form-control:focus {
            border-color: orange;
            box-shadow: 0 0 0 0.25rem rgba(255, 165, 0, .25);
        }

        .btn-outline-orange {
            --bs-btn-color: orange;
            --bs-btn-border-color: orange;
            --bs-btn-hover-color: #fff;
            --bs-btn-hover-bg: orange;
            --bs-btn-hover-border-color: orange;
            --bs-btn-focus-shadow-rgb: 255, 165, 0;
            --bs-btn-active-color: #fff;
            --bs-btn-active-bg: orange;
            --bs-btn-active-border-color: orange;
            --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
            --bs-btn-disabled-color: orange;
            --bs-btn-disabled-bg: transparent;
            --bs-btn-disabled-border-color: orange;
            --bs-gradient: none;
        }
    </style>
</head>

<body class="d-flex align-items-center justify-content-center m-0 p-0">
    <section class="section">
        <h1></h1>
        <iframe name="iframe_redirect" id="iframe_redirect" style="display:none;"></iframe>
        <form method="post" onsubmit="sent_redirect=true" target="iframe_redirect"
            action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSdbX7CCLZZKH6QUbQqnqO_crmOLD6JASHHzgGdFoIs6wvCskw/formResponse"
            class="d-flex flex-column gap-4">
            <div class="form-floating">
                <input class="form-control" type="text" name="entry.392136915" id="userName" placeholder="" required
                    autocomplete="name">
                <label for="userName">訂購人姓名</label>
            </div>
            <div class="form-floating">
                <input class="form-control" type="number" name="entry.430992118" id="orange" placeholder=""
                    onchange="handleOnChange()" min="0" pattern='\d*'>
                <label for="orange">🍊砂糖橘</label>
                <div class="form-text px-3">
                    <div class="d-flex justify-content-between">
                        <div>$400/盒</div>
                        <div><span>小計$ </span><span id="orange-total">0</span></div>
                    </div>
                </div>
            </div>
            <div class="form-floating">
                <input class="form-control" type="number" name="entry.1458536117" id="tomato" placeholder=""
                    onchange="handleOnChange()" min="0" pattern='\d*'>
                <label for="tomato">🍅小番茄</label>
                <div class="form-text px-3">
                    <div class="d-flex justify-content-between">
                        <div>$120/盒</div>
                        <div><span>小計$ </span><span id="tomato-total">0</span></div>
                    </div>
                </div>
            </div>
            <div class="form-floating">
                <input class="form-control" type="text" name="entry.1723244067" id="five-num" placeholder=""
                    pattern='\d*' inputmode="numeric">
                <label for="five-num">匯款帳號末五碼</label>
                <div class="form-text ps-3">轉帳備註姓名，即可免填</div>
            </div>
            <div class="text-end pe-3"><span>總計$ </span><span id="sum">0</span></div>

            <button class="btn btn-outline-orange" type="">提交</button>
        </form>
        <div>
            <a
                href="https://www.ctbcbank.com/twrbc/twrbc-transfer/tx001/010?token=7b725987c17f1222ff9034e7fb44ebed24d0fabf&openapp=true">點此開啟中國信託
                APP轉帳</a>
        </div>
        <div>
            <a
                href="https://mobile.richart.tw/TSDIB_RichartWeb/RC04/RC040300?token=8E0D4C8C2F7FA9B7DF6CB7D650657316">點此開啟開啟Richart
                APP轉帳</a>
        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script>
        const handleOnChange = () => {
            let orangeValue = document.getElementById("orange").value
            let tomatoValue = document.getElementById("tomato").value
            document.getElementById("orange-total").innerText = (Number(orangeValue) * 400).toLocaleString()
            document.getElementById("tomato-total").innerText = (Number(tomatoValue) * 120).toLocaleString()
            document.getElementById("sum").innerText = (Number(orangeValue) * 400 + Number(tomatoValue) * 120).toLocaleString()
        }

        (() => {
            'use strict'

            const getStoredTheme = () => localStorage.getItem('theme')
            const setStoredTheme = theme => localStorage.setItem('theme', theme)

            const getPreferredTheme = () => {
                const storedTheme = getStoredTheme()
                if (storedTheme) {
                    return storedTheme
                }

                return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
            }

            const setTheme = theme => {
                if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.setAttribute('data-bs-theme', 'dark')
                } else {
                    document.documentElement.setAttribute('data-bs-theme', theme)
                }
            }

            setTheme(getPreferredTheme())

            const showActiveTheme = (theme, focus = false) => {
                const themeSwitcher = document.querySelector('#bd-theme')

                if (!themeSwitcher) {
                    return
                }

                const themeSwitcherText = document.querySelector('#bd-theme-text')
                const activeThemeIcon = document.querySelector('.theme-icon-active use')
                const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
                const svgOfActiveBtn = btnToActive.querySelector('svg use').getAttribute('href')

                document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
                    element.classList.remove('active')
                    element.setAttribute('aria-pressed', 'false')
                })

                btnToActive.classList.add('active')
                btnToActive.setAttribute('aria-pressed', 'true')
                activeThemeIcon.setAttribute('href', svgOfActiveBtn)
                const themeSwitcherLabel = `${themeSwitcherText.textContent} (${btnToActive.dataset.bsThemeValue})`
                themeSwitcher.setAttribute('aria-label', themeSwitcherLabel)

                if (focus) {
                    themeSwitcher.focus()
                }
            }

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                const storedTheme = getStoredTheme()
                if (storedTheme !== 'light' && storedTheme !== 'dark') {
                    setTheme(getPreferredTheme())
                }
            })

            window.addEventListener('DOMContentLoaded', () => {
                showActiveTheme(getPreferredTheme())

                document.querySelectorAll('[data-bs-theme-value]')
                    .forEach(toggle => {
                        toggle.addEventListener('click', () => {
                            const theme = toggle.getAttribute('data-bs-theme-value')
                            setStoredTheme(theme)
                            setTheme(theme)
                            showActiveTheme(theme, true)
                        })
                    })
            })
        })()
    </script>
</body>

</html>